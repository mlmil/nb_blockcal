    sd.setDate(sd.getDate()+1);
  }

  saveAll();

  // AUTO CLOSE POPUPS
  document.getElementById("blockForm").style.display="none";
  document.getElementById("bookForm").style.display="none";
  document.getElementById("choice").style.display="none";

  // RESTORE CALENDAR VIEW
  document.getElementById("cal").style.display="grid";
  document.getElementById("names").style.display="grid";

  build();
}

function saveBook(){
  let t=document.getElementById("bookTitle").value;
  let tm=document.getElementById("bookTime").value;
  let l=document.getElementById("bookLoc").value;

  bookings[selectedDate]={title:t,time:tm,loc:l};
  delete blocks[selectedDate];

  saveAll();

  // AUTO CLOSE POPUPS
  document.getElementById("bookForm").style.display="none";
  document.getElementById("blockForm").style.display="none";
  document.getElementById("choice").style.display="none";

  // RESTORE CALENDAR VIEW
  document.getElementById("cal").style.display="grid";
  document.getElementById("names").style.display="grid";

  build();
}

function deleteOne(){
  delete blocks[selectedDate];
  saveAll();
  goBack();
}

function deleteAll(){
  let name=blocks[selectedDate];
  for(let k in blocks){
    if(blocks[k]==name) delete blocks[k];
  }
  saveAll();
  goBack();
}

function deleteBooking(){
  delete bookings[selectedDate];
  saveAll();
  goBack();
}

function choiceDeleteBlock(){
  delete blocks[selectedDate];
  saveAll();
  goBack();
}

function choiceDeleteBook(){
  delete bookings[selectedDate];
  saveAll();
  goBack();
}

function goBack(){
  document.getElementById("choice").style.display="none";
  document.getElementById("blockForm").style.display="none";
  document.getElementById("bookForm").style.display="none";

  document.getElementById("cal").style.display="grid";
  document.getElementById("names").style.display="grid";
  build();
}

function nextMonth(){ cm++; if(cm>11){cm=0; cy++;} build(); }
function prevMonth(){ cm--; if(cm<0){cm=11; cy--;} build(); }

renderNames();
build();
</script>

</body>
</html>
